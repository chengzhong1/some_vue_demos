<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./bootstrap.min.css">
  <style>
    #tb {
      margin: auto;

      width: 800px;
      font-size: 20px;
      /* height: 200px; */
    }

    tr {
      height: 30px;
      text-align: center;
    }

    .upload {
      margin: auto;

      width: 400px;
      text-align: center;
    }

    #app {
      margin: auto;
      /* position: relative;
      display: inline;
      text-align: center; */
    }
  </style>
</head>

<body>
  <div id="app" class="contain">
    <div v-if="list.length">
      <table class="table-striped" id="tb">
        <thead>
          <tr>
            <th></th>
            <th>书籍名称</th>
            <th>出版日期</th>
            <th>价格</th>
            <th>购买数量</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(item,index) in list" :key="item.id">
            <td>{{index+1}}</td>
            <td>{{item.name}}</td>
            <td>{{item.date}}</td>
            <td>{{item.price | showPrice}}</td>
            <td>
              <button type="button" class="btn btn-outline-primary" @click="decrement(index)"
                :disabled="item.count===1">-</button>
              <!-- <button @click="decrement(index)" :disabled="item.count===1">-</button> -->
              {{item.count}}
              <button type="button" class="btn btn-outline-primary" @click="increment(index)">+</button>

              <!-- <button @click="increment(index)">+</button> -->
            </td>
            <td>
              <button type="button" class="btn btn-outline-warning" @click="handleRemove(index)">移除</button>
              <!-- <button @click="handleRemove(index)">移除</button> -->
            </td>
          </tr>
        </tbody>


      </table>
      <div style="text-align: center;font-size: 20px;color: coral;">总价:{{totalPrice | showPrice}}</div>
    </div>
    <div v-else>购物车为空</div>


    <div class="upload">
      <form>
        <div class="form-group row">
          <label for="book-name" class="col-xl-3 col-form-label">书籍名称:</label>
          <div class="col-xl-9">
            <input type="text" class="form-control" id="book-name" v-model.lazy="msg.name">
          </div>
        </div>
        <div class="form-group row">
          <label for="date" class="col-xl-3 col-form-label">出版日期:</label>
          <div class="col-xl-9">
            <input type="text" class="form-control" id="date" v-model.lazy="msg.date">
          </div>
        </div>
        <div class="form-group row">
          <label for="price" class="col-xl-3 col-form-label">图书价格:</label>
          <div class="col-xl-9">
            <input type="text" class="form-control" id="price" v-model.number.lazy="msg.price" type="number">
          </div>
        </div>
        <button type="button" class="btn btn-primary" @click.prevent="handleUpload">提交</button>

      </form>
    </div>

  </div>
  <script src="./vue.js"></script>
  <script src="./index.js"></script>
</body>

</html>